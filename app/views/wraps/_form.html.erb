<%= form_with(model: [:pet, @wrap], local: true) do |f| %>
<% if @wrap.errors.any? %>
  <div id="error_explanation">
    <h2><%= @wrap.errors.count %>件のエラーがあります。</h2>
    <ul>
    <% @wrap.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>
  <div class="field">
    <%= f.label :precaution_title %>
    <%= f.text_field :precaution_title, placeholder: "変更タイトル" %>
  </div>
  <div class="field">
    <%= f.label :precaution_content %>
    <%= f.text_field :precaution_content, placeholder: "変更コンテンツ" %>
  </div>
  <div class="field">
    <%= f.label :date_record %>
    <%= f.date_field :date_record %>
  </div>

        <div>
          <h2>condition</h2>
          <%= f.fields_for :conditions do |condition| %>
            <div class="field">
              <%= condition.label :start_time %><br>
              <%= condition.time_field :start_time %>
            </div>
            <div class="field">
              <%= condition.label :weight %><br>
              <%= condition.number_field :weight, step: "0.1" %>
            </div>
            <div class="field">
              <%= condition.label :temperature %><br>
              <%= condition.number_field :temperature, step: "0.1" %><br>
            </div>
            <div class="field">
              <%= condition.label :memo %><br>
              <%= condition.text_field :memo %><br>
            </div>
            <% if @wrap.persisted? %>
              <div class="field">
                <%= condition.label :_destroy %>
                <%= condition.check_box :_destroy %>
              </div>
            <% end %>
          <% end %>
        </div>

        <div>
          <h2>meal</h2>
          <%= f.fields_for :meals do |meal| %>
            <div class="field">
              <%= meal.label :start_time %><br>
              <%= meal.time_field :start_time %>
            </div>
            <div class="field">
              <%= meal.label :shape %><br>
              <%= meal.text_field :shape %>
            </div>
            <div class="field">
              <%= meal.label :amount %><br>
              <%= meal.text_field :amount %><br>
            </div>
            <div class="field">
              <%= meal.label :memo %><br>
              <%= meal.text_field :memo %><br>
            </div>
            <% if @wrap.persisted? %>
              <div class="field">
                <%= meal.label :_destroy %>
                <%= meal.check_box :_destroy %>
              </div>
            <% end %>
          <% end %>
        </div>

        <div>
          <h2>excretion</h2>
          <%= f.fields_for :excretions do |excretion| %>
            <div class="field">
              <%= excretion.label :start_time %><br>
              <%= excretion.time_field :start_time %>
            </div>
            <div class="field">
              <%= excretion.label :shape %><br>
              <%= excretion.text_field :shape %>
            </div>
            <div class="field">
              <%= excretion.label :amount %><br>
              <%= excretion.text_field :amount %><br>
            </div>
            <div class="field">
              <%= excretion.label :smell %><br>
              <%= excretion.text_field :smell %><br>
            </div>
            <div class="field">
              <%= excretion.label :memo %><br>
              <%= excretion.text_field :memo %><br>
            </div>
            <% if @wrap.persisted? %>
              <div class="field">
                <%= excretion.label :_destroy %>
                <%= excretion.check_box :_destroy %>
              </div>
            <% end %>
          <% end %>
        </div>

        <div>
          <h2>medicine</h2>
          <%= f.fields_for :medicines do |medicine| %>
            <div class="field">
              <%= medicine.label :start_time %><br>
              <%= medicine.time_field :start_time %>
            </div>
            <div class="field">
              <%= medicine.label :shape %><br>
              <%= medicine.text_field :shape %>
            </div>
            <div class="field">
              <%= medicine.label :memo %><br>
              <%= medicine.text_field :memo %><br>
            </div>
            <% if @wrap.persisted? %>
              <div class="field">
                <%= medicine.label :_destroy %>
                <%= medicine.check_box :_destroy %>
              </div>
            <% end %>
          <% end %>
        </div>

        <div>
          <h2>walk</h2>
          <%= f.fields_for :walks do |walk| %>
            <div class="field">
              <%= walk.label :start_time %><br>
              <%= walk.time_field :start_time %>
            </div>
            <div class="field">
              <%= walk.label :how_many %><br>
              <%= walk.text_field :how_many %>
            </div>
            <div class="field">
              <%= walk.label :memo %><br>
              <%= walk.text_field :memo %><br>
            </div>
            <% if @wrap.persisted? %>
              <div class="field">
                <%= walk.label :_destroy %>
                <%= walk.check_box :_destroy %>
              </div>
            <% end %>
          <% end %>
        </div>


<br>
<div>
  <%= f.submit '登録する' %>
</div>

<% end %>
<%= link_to "記録一覧画面（wrap#index)", pet_wraps_path(params[:pet_id]) %>
